<!DOCTYPE html>
<html>
<head>
  <title>Platforming Game</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    canvas {
      background-color: #000;
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="600"></canvas>
  <script>
    var canvas = document.getElementById("gameCanvas");
    var ctx = canvas.getContext("2d");

    // Game state
    var gameState = {
      currentLevel: 1,
      levels: [],
    };

    // Player properties
    var player = {
      x: 50,
      y: canvas.height - 100,
      width: 40,
      height: 60,
      speed: 5,
      jumpHeight: 12,
      isJumping: false,
      dy: 0,
    };

    // Level properties
    gameState.levels.push(
      [
        // Level 1
        { x: 100, y: canvas.height - 80, width: 200, height: 20 },
        { x: 400, y: canvas.height - 160, width: 200, height: 20 },
        { x: 700, y: canvas.height - 240, width: 200, height: 20 },
      ],
      [
        // Level 2
        { x: 100, y: canvas.height - 80, width: 200, height: 20 },
        { x: 400, y: canvas.height - 200, width: 200, height: 20 },
        { x: 700, y: canvas.height - 320, width: 200, height: 20 },
      ],
      [
        // Level 3
        { x: 100, y: canvas.height - 160, width: 200, height: 20 },
        { x: 400, y: canvas.height - 240, width: 200, height: 20 },
        { x: 700, y: canvas.height - 320, width: 200, height: 20 },
      ]
    );

    // Event listeners for movement and jumping
    document.addEventListener("keydown", function (event) {
      if (event.key === "a") {
        player.dx = -player.speed;
      } else if (event.key === "d") {
        player.dx = player.speed;
      } else if (event.key === " ") {
        if (!player.isJumping) {
          player.isJumping = true;
          player.dy = -player.jumpHeight;
        }
      }
    });

    document.addEventListener("keyup", function (event) {
      if (event.key === "a" || event.key === "d") {
        player.dx = 0;
      }
    });

    // Check collision between player and platforms
    function checkCollision() {
      var currentLevel = gameState.levels[gameState.currentLevel - 1];

      for (var i = 0; i < currentLevel.length; i++) {
        var platform = currentLevel[i];
        if (
          player.x < platform.x + platform.width &&
          player.x + player.width > platform.x &&
          player.y < platform.y + platform.height &&
          player.y + player.height > platform.y
        ) {
          // Player collided with a platform
          if (player.dy > 0) {
            // Falling down, stop jumping
